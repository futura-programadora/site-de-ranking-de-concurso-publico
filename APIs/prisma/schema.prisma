// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  fullName          String   // Nome completo (obrigatório)
  registrationNumber String   // Número de inscrição (obrigatório)
  username          String   // Nome de usuário (obrigatório)
  password          String   // Senha (obrigatório)
  plan              Plan     @relation(fields: [planId], references: [id])
  planId            String   // Referência ao plano (obrigatório)
}

model Plan {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  name  String
  users User[]
}

model Candidato {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  nome             String  // Nome do candidato
  numeroInscricao  String  // Número de inscrição
  nota1            Float   // Nota 1
  nota2            Float   // Nota 2
  nota3            Float   // Nota 3
  concursoId       String  //id do concurso
  concurso         Concurso @relation(fields: [concursoId], references: [id])
  createdAt        DateTime @default(now()) // Data de registro
}

model Concurso {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  name             String   //nome do concurso
  candidatos       Candidato[] @relation // Relacionamento com candidatos
  estudar          Estudar  [] @relation
}

model Estudar {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  file             String     //documento do que é mais exigido no concurso
  concursoId       String  //id do concurso
  concurso         Concurso @relation(fields: [concursoId], references: [id])
}

model Parceria {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  name             String   //nome da parceria 
}

model Especialistas {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  name             String   //nome do especialista 
}